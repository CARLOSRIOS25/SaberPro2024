<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar Estudiante</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            background: linear-gradient(-90deg, #284055, #28a745);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0;
        }

        h1 {
            font-size: 4rem;
            font-weight: bold;
            color: #28a745;
            margin-bottom: 40px;
            text-align: center;
        }

        .btn-salir {
            position: absolute;
            top: 15px;
            left: 15px;
            z-index: 1000;
        }

        .btn-primary {
             background-color: #28a745;
             border-color: #5e9448;
             color: #ffffff;
         }

        .btn-primary:hover {
            background-color: #ffffff;
            border-color: #28a745;
            color: #28a745;
        }

        .btn-danger {
            background-color: #a72828;
            border-color: #944848;
            color: #ffffff;
        }

        .btn-danger:hover {
            background-color: #ffffff;
            border-color: #a72828;
            color: #a72828;
        }

        .form-control {
            margin-top: 10px;
        }


        .divider {
            height: 2px;
            background-color: #28a745;
            margin: 15px 0;
            opacity: 0.7;
        }

    </style>
</head>
<body class="bg-light">
<a href="/coordinadores" class="btn btn-dark m-3 float-left btn-salir">Volver</a>
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-10 bg-white p-5 rounded shadow">
            <div class="text-center mb-4">
                <h1>Agregar Estudiante</h1>
            </div>
            <div class="divider"></div>
            <form th:action="@{/estudiantes/agregar}" method="post">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group row">
                            <label for="tipoDocumento" class="col-sm-4 col-form-label">Tipo de Documento:</label>
                            <div class="col-sm-8">
                                <input type="text" id="tipoDocumento" name="tipoDocumento" class="form-control" placeholder="CC" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="numDocumento" class="col-sm-4 col-form-label">Número de Documento:</label>
                            <div class="col-sm-8">
                                <input type="number" id="numDocumento" name="numDocumento" class="form-control" placeholder="xxxxxxxxxx" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="apellido" class="col-sm-4 col-form-label">Apellido:</label>
                            <div class="col-sm-8">
                                <input type="text" id="apellido" name="apellido" class="form-control" placeholder="primer apellido" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="nombre" class="col-sm-4 col-form-label">Nombre:</label>
                            <div class="col-sm-8">
                                <input type="text" id="nombre" name="nombre" class="form-control" placeholder="primer nombre" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="email" class="col-sm-4 col-form-label">Email:</label>
                            <div class="col-sm-8">
                                <input type="email" id="email" name="email" class="form-control" placeholder="example@gmail.com" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="numTelefono" class="col-sm-4 col-form-label">Número de Teléfono:</label>
                            <div class="col-sm-8">
                                <input type="tel" id="numTelefono" name="numTelefono" class="form-control" placeholder="xxx-xxxxxxx" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="numRegistro" class="col-sm-4 col-form-label">Número de Registro:</label>
                            <div class="col-sm-8">
                                <input type="text" id="numRegistro" name="numRegistro" class="form-control" placeholder="EKxxxxxxxxxxx" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="puntaje" class="col-sm-4 col-form-label">Puntaje:</label>
                            <div class="col-sm-8">
                                <input type="text" id="puntaje" name="puntaje" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group row">
                            <label for="comunicacionEscrita" class="col-sm-4 col-form-label">Comunicación Escrita:</label>
                            <div class="col-sm-8">
                                <input type="number" id="comunicacionEscrita" name="comunicacionEscrita" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="rzmtCuantitativo" class="col-sm-4 col-form-label">Razonamiento Cuantitativo:</label>
                            <div class="col-sm-8">
                                <input type="number" id="rzmtCuantitativo" name="rzmtCuantitativo" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="lecturaCritica" class="col-sm-4 col-form-label">Lectura Crítica:</label>
                            <div class="col-sm-8">
                                <input type="number" id="lecturaCritica" name="lecturaCritica" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="competenciasCiudadanas" class="col-sm-4 col-form-label">Competencias Ciudadanas:</label>
                            <div class="col-sm-8">
                                <input type="number" id="competenciasCiudadanas" name="competenciasCiudadanas" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="ingles" class="col-sm-4 col-form-label">Inglés:</label>
                            <div class="col-sm-8">
                                <input type="number" id="ingles" name="ingles" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="proyectosIngenieria" class="col-sm-4 col-form-label">Proyectos de Ingeniería:</label>
                            <div class="col-sm-8">
                                <input type="number" id="proyectosIngenieria" name="proyectosIngenieria" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="pensamientoMatematico" class="col-sm-4 col-form-label">Pensamiento Matemático:</label>
                            <div class="col-sm-8">
                                <input type="number" id="pensamientoMatematico" name="pensamientoMatematico" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="diseñoSoftware" class="col-sm-4 col-form-label">Diseño de Software:</label>
                            <div class="col-sm-8">
                                <input type="number" id="diseñoSoftware" name="diseñoSoftware" class="form-control" placeholder="100" required>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary">Agregar</button>
                    <button class="btn btn-danger" onclick="anularValores()">Anular Estudiante</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>

    function anularValores() {
        console.log("Función anularValores() llamada.");
        // Seleccionar el input de puntaje global por su ID
        var puntajeInput = document.getElementById('puntaje');

        console.log("Elemento Puntaje:", puntajeInput);

        // Verificar si el input de puntaje existe
        if (puntajeInput) {
            puntajeInput.value = "ANULADO";
            console.log("Valor del PuntajeGlobal cambiado a 'ANULADO'. Nuevo valor:", puntajeInput.value);
        }

        // Obtener todos los inputs dentro del formulario
        var inputs = document.querySelectorAll('input');

        // Excluir los campos específicos
        var camposExcluidos = ["tipoDocumento", "numDocumento", "apellido", "nombre", "email", "numTelefono", "numRegistro"];

        // Iterar sobre cada campo y anularlo si no está en la lista de campos excluidos
        inputs.forEach(function(input) {
            var nombreCampo = input.getAttribute("name");
            // Verificar si el campo no está en la lista de campos excluidos
            if (nombreCampo && !camposExcluidos.includes(nombreCampo)) {
                // Verificar si el campo es numérico
                if (!isNaN(parseFloat(input.value)) && isFinite(input.value)) {
                    // Convertir el valor a cero solo si es numérico
                    input.value = 0;
                } else {
                    // Si no es numérico, establecerlo como "ANULADO"
                    input.value = "ANULADO";
                }
            }
        });
    }
</script>
</body>
</html>
